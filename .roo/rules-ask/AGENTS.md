# 项目文档规则 (非显而易见部分)

## 数据组织结构

- `src/data/personnelData.js`: 包含三个部门的人员数据，不是从 API 获取
- `src/data/evaluationCriteria.js`: 定义评价标准和等级分布验证逻辑
- 评价流程：本地存储 → 批量提交 → 服务器存储

## 关键业务逻辑

- 职能部门用户需要选择评价部门，其他部门自动评价自己部门
- 等级分布要求因部门而异，经控贸易和开投贸易部门提交前必须验证，职能部门不需要验证
- 用户身份基于姓名和部门生成加密 ID，不是传统登录系统
- 登录时需要验证姓名和身份证号的匹配关系，确保身份真实性

## 页面路由结构

- `/`: 姓名输入页面，根据姓名确定用户身份和部门
- `/vote/{department}/{role}`: 人员列表页面
- `/vote/{department}/{role}/{personId}`: 具体评价页面
- `/admin/generate-test-data`: 测试数据生成页面

## 数据流向说明

- 人员数据：静态文件 → 组件使用
- 评价数据：表单输入 → localStorage → 批量 API 提交 → Supabase
- 用户身份：姓名 + 身份证号 → 验证匹配 → 加密 ID → localStorage 存储

## 特殊功能说明

- 测试数据生成器可以创建符合等级分布要求的完整评价数据
- 管理面板可以查看所有用户的评价状态和导出 Excel
- 系统支持离线评价，数据暂存在本地

## 部门特定规则

- 经控贸易：55 人，负责人和员工角色
- 开投贸易：21 人，负责人和员工角色
- 职能部门：5 人，负责评价其他部门
