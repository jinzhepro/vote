# 项目文档规则 (非显而易见)

## 数据流理解

- 评价系统采用"本地优先"策略：数据先存 localStorage，后提交服务器
- 职能部门用户需要跨部门评价，其他部门只评价本部门人员
- 等级分布限制仅适用于经控贸易和开投贸易部门

## 业务逻辑关键点

- 用户身份通过姓名+身份证号验证，生成加密用户 ID
- 评价完成后必须验证等级分布才能提交
- 职能部门用户可以分批提交不同部门的评价

## 组件关系说明

- `VotePersonnelList.jsx`是评价入口，显示部门人员列表
- `EvaluationVote.jsx`处理具体评价逻辑
- `evaluationCriteria.js`定义评分标准和等级验证规则

## 数据存储结构

- 人员数据静态存储在`src/data/personnelData.js`
- 用户评价动态存储在 localStorage
- 服务器数据通过 Supabase API 管理

## 部门特殊规则

- 经控贸易：55 人，严格的等级分布要求
- 开投贸易：23 人，严格的等级分布要求
- 职能部门：6 人，需要评价所有其他部门，无等级分布限制

## 评分标准说明

- 10 个评价维度，每个维度有不同分值选项
- 总分转换为 A-E 等级，对应不同绩效评级
- 等级分布必须符合部门特定要求
